(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{xedV:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-field",{attrs:{label:t.t("login.mixin.label.first")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("mt-field",{attrs:{label:t.t("login.mixin.label.second"),type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("mt-cell",{attrs:{title:""}},[s("mt-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:t.login}},[t._v(t._s(t.t("login.mixin.button.first")))])],1)],1)},r=[],i=s("z51k"),o={mixins:[i["a"]]},a=o,c=s("KHd+"),u=Object(c["a"])(a,n,r,!1,null,null,null);e["default"]=u.exports},z51k:function(t,e,s){"use strict";s("ls82");var n=s("MECJ"),r=s("yT7P"),i=(s("f3/d"),s("L2JU"));e["a"]={computed:{user:{get:function(){return this.$store.state.User.user}},name:{get:function(){return this.$store.state.User.user.name},set:function(t){this.$store.commit("SET_USER_NAME",t)}},password:{get:function(){return this.$store.state.User.user.password},set:function(t){this.$store.commit("SET_USER_PASSWORD",t)}}},methods:Object(r["a"])({login:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("loginUser",this.user);case 2:e=t.sent,s=e.token,n=e.cookie,window.localStorage.setItem("token",s),this.setCookie("user",n,604800),this.setIsUserAuthenticated(!0),this.$emit("userLoggedIn"),this.$router.push({name:"Products"});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setCookie:function(t,e,s){var n=s?"; expires="+new Date((new Date).getTime()+1e3*s).toGMTString():"";document.cookie=t+"="+encodeURIComponent(e)+n+"; path=/"}},Object(i["c"])({setIsUserAuthenticated:"SET_IS_USER_AUTHENTICATED"}))}}}]);